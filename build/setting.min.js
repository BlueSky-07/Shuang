"use strict";function _slicedToArray(a,b){return _arrayWithHoles(a)||_iterableToArrayLimit(a,b)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function _arrayWithHoles(a){if(Array.isArray(a))return a}Shuang.app.setting={config:{scheme:"guobiao",mode:"all-random",showPic:"true",darkMode:"false"},reload:function a(){localStorage.getItem("scheme")&&(this.config.scheme=localStorage.getItem("scheme")),localStorage.getItem("mode")&&(this.config.mode=localStorage.getItem("mode")),localStorage.getItem("showPic")&&(this.config.showPic=localStorage.getItem("showPic")),localStorage.getItem("darkMode")&&(this.config.darkMode=localStorage.getItem("darkMode")),[].find.call($("#scheme-select").children,function(a){return Shuang.resource.schemeList[Shuang.app.setting.config.scheme].startsWith(a.innerText)}).selected=!0,$("#mode-select")[Object.keys(Shuang.app.modeList).indexOf(this.config.mode)].selected=!0,$("#pic-switcher").checked="true"===this.config.showPic,$("#dark-mode-switcher").checked="true"===this.config.darkMode,this.setScheme(Shuang.resource.schemeList[this.config.scheme],!1),this.setMode(Shuang.app.modeList[this.config.mode].name),this.setPicVisible(this.config.showPic),this.setDarkMode(this.config.darkMode)},setScheme:function d(a){var b=this,c=!(1<arguments.length&&arguments[1]!==void 0)||arguments[1];this.config.scheme=Object.keys(Shuang.resource.schemeList)[Object.values(Shuang.resource.schemeList).findIndex(function(b){return b.startsWith(a)})],localStorage.setItem("scheme",this.config.scheme);importJS("build/scheme/"+this.config.scheme+".js",function a(){c&&Shuang.app.action.next(),b.updateTips()})},setMode:function g(a){Shuang.core.history=[];for(var b=Object.entries(Shuang.app.modeList),c=0;c<b.length;c++){var d=_slicedToArray(b[c],2),e=d[0],f=d[1];if(f.name===a){this.config.mode=e;break}}localStorage.setItem("mode",this.config.mode),$("#mode-desc").innerHTML=Shuang.app.modeList[this.config.mode].desc,$("#q").style.display="hard-random-without-pinyin"===this.config.mode?"none":"block"},setPicVisible:function b(a){this.config.showPic=a.toString(),localStorage.setItem("showPic",this.config.showPic),"false"===this.config.showPic?$("#keyboard").style.display="none":"true"===this.config.showPic&&($("#keyboard").style.display="block")},setDarkMode:function b(a){this.config.darkMode=a.toString(),localStorage.setItem("darkMode",this.config.darkMode),"true"===this.config.darkMode?$("body").setAttribute("class","dark-mode"):"false"===this.config.darkMode&&$("body").setAttribute("class","")},updateTips:function k(){var a=$("#tips");a.innerHTML="";var b=Shuang.resource.scheme[this.config.scheme];if(b.tips){var c=Array.isArray(b.tips)?b.tips:[b.tips],d=!0,e=!1,f=void 0;try{for(var g,h=c[Symbol.iterator]();!(d=(g=h.next()).done);d=!0){var i=g.value,j=document.createElement("div");j.className="line",j.innerHTML=i,a.appendChild(j)}}catch(a){e=!0,f=a}finally{try{d||null==h.return||h.return()}finally{if(e)throw f}}}$("#pic").src="img/"+this.config.scheme+".png"}};